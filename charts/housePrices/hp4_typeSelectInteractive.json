{ "$schema": "https://vega.github.io/schema/vega-lite/v6.json",

  "title": {
    "text": "House Prices, UK",
    "subtitle":["Floor area (square feet) vs purchase price (Â£)",""],
    "subtitleFontStyle":"italic",
    "subtitleFontSize":10,
    "anchor": "start",
    "color": "black"
  },

  "data": {
    "url": "https://raw.githubusercontent.com/RDeconomist/RDeconomist.github.io/refs/heads/main/data/data_ukHousePriceSales_Clean.csv",
    "format":{"type":"csv"}},

  "transform": [

    {"filter":"datum.propertytype==myPropertySelection"},

    {"filter":{"field": "floorAreaSqm", "gt":0}},
    {"filter":{"field": "priceSale", "lt":1000000}}
  ],

"params": [{
    "name":"myPropertySelection", 
    "value":"Purpose Built Flat",
    "bind": {
        "input": "select",
        "name": "Property:",
        "options": [
          "Purpose Built Flat",
          "Flat/Maisonette",
          "Detached House",
          "Semi-Detached House",
          "Mid Terrace House"]}
        }
      ],


  "mark": {
    "type":"circle",
    "size":150,
    "color":"rgba(255, 165, 0, 0.6)"},
  
  "height": 300,
  "width": 500,

  "encoding": {

    "x": {
      "field": "floorAreaSqm", 
      "type": "quantitative",
      "title":null
      },

    "y": {
      "field": "priceSale", 
      "type": "quantitative",
      "title":null
      },

    "facet": {
                "field": "propertytype",
                "columns": 5,
                "title":null}
    }
   }